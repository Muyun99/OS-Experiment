# [在不到 30s 内得到一个干净、开箱即用的临时 Linux 系统.](https://github.com/instantbox/instantbox/blob/master/docs/README-zh.md)
## 1. Linux目录结构及文件操作

#### 1.1 实验内容

Linux 的文件组织目录结构。
相对路径和绝对路径。
对文件的移动、复制、重命名、编辑等操作。

#### 1.2 实验知识点

每个目录的大体内容
文件的属性
touch,file,rm,mv 等基本命令

### 1.3 实验笔记
#### 1.3.1 linux和windows的不同
OS | Some dif | file manage
:---:|:---:|:---:
linux | 以目录为主 | 以树形目录结构来构建整个系统
windows | 以存储介质为主 | 以盘符和分区来实现文件管理，之下才是目录

* windows: 用户文件可放在任何目录
* linux: linux的磁盘是挂在目录上的

#### 1.3.2 FHS标准
FHS（英文：Filesystem Hierarchy Standard 中文：文件系统层次结构标准），多数 Linux 版本采用这种文件组织形式，FHS 定义了系统中每个区域的用途、所需要的最小构成的文件和目录同时还给出了例外处理与矛盾处理。

FHS 定义了两层规范，第一层是， / 下面的各个目录应该要放什么文件数据，例如 /etc 应该放置设置文件，/bin 与 /sbin 则应该放置可执行文件等等。

第二层则是针对 /usr 及 /var 这两个目录的子目录来定义。例如 /var/log 放置系统日志文件，/usr/share 放置共享数据等等。

#### 1.3.3 目录路径
1.cd命令可以切换路径，.表示当前目录，..表示上一级目录

以.开头的文件都是隐藏文件，(ls -a命令可以查看隐藏文件)

2.使用pwd获取当前路径

#### 1.3.4 绝对路径与相对路径
* 绝对路径: 以根目录"/"为起点的完整路径，以你要到的目录为终点
* 相对路径: 以当前路径"."为起点，以所到的目录为终点

### 1.4. linux文件的基本操作
新建、复制、删除、移动文件与文件重命名、查看文件、查看文件类型、以及编辑文件。

#### 1.4.1 新建文件

1. 使用 touch 命令创建空白文件
2. 关于 touch 命令，其主要作用是来更改已有文件的时间戳的（比如，最近访问时间，最近修改时间）
3. 但其在不加任何参数的情况下，只指定一个文件名，则可以创建一个指定文件名的空白文件（不会覆盖已有同名文件）
4. 使用 mkdir（make directories）命令可以创建一个空目录
5. 使用 -p 参数，同时创建父目录（如果不存在该父目录），如下我们同时创建一个多级目录（这在安装软件、配置安装路径时非常有用）

#### 1.4.2 复制文件
1. 使用 cp（copy）命令复制一个文件到指定目录
2. 要成功复制目录需要加上 -r 或者 -R 参数，表示递归复制，就是说有点“株连九族”的意思(复制一个文件夹..)

#### 1.4.3 删除文件
1. 使用 rm（remove files or directories）命令删除一个文件：
2. 删除目录: 
跟复制目录一样，要删除一个目录，也需要加上 -r 或 -R 参数：

#### 1.4.4 移动文件与文件重命名
1. 移动文件：mv（move or rename files）命令移动文件（剪切）。将文件“ file1 ”移动到 Documents 目录：

```
$ mkdir Documents
$ touch file1
$ mv file1 Documents
```

2. 重命名文件: 将文件“ file1 ”重命名为“ myfile ”,mv 旧的文件名 新的文件名：

```
mv file file1
```
3. 批量重命名
rename命令: 用 perl 正则表达式来作为参数
```
$ cd /home/shiyanlou/

# 使用通配符批量创建 5 个文件:
$ touch file{1..5}.txt

# 批量将这 5 个后缀为 .txt 的文本文件重命名为以 .c 为后缀的文件:
$ rename 's/\.txt/\.c/' *.txt

# 批量将这 5 个文件，文件名和后缀改为大写:
$ rename 'y/a-z/A-Z/' *.c
```

4. rename 是先使用第二个参数的通配符匹配所有后缀为 .txt 的文件，然后使用第一个参数提供的正则表达式将匹配的这些文件的 .txt 后缀替换为 .c

#### 1.4.5 查看文件
1. 使用 cat，tac 和 nl 命令查看文件
前两个命令都是用来打印文件内容到标准输出（终端），其中 cat 为正序显示，tac 为倒序显示。

2. 可以加上 -n 参数显示行号：
```
$ cd /home/shiyanlou
$ cp /etc/passwd passwd
$ cat passwd
$ cat -n passwd // 加上-n参数显示行号

-b : 指定添加行号的方式，主要有两种：
    -b a:表示无论是否为空行，同样列出行号("cat -n"就是这种方式)
    -b t:只列出非空行的编号并列出（默认为这种方式）
-n : 设置行号的样式，主要有三种：
    -n ln:在行号字段最左端显示
    -n rn:在行号字段最右边显示，且不加 0
    -n rz:在行号字段最右边显示，且加 0
-w : 行号字段占用的位数(默认为 6 位)
```

3. 使用 more 和 less 命令分页查看文件，打开后默认只显示一屏内容，终端底部显示当前阅读的进度。可以使用 Enter 键向下滚动一行，使用 Space 键向下滚动一屏，按下 h 显示帮助，q 退出。
4. 使用 head 和 tail 命令查看文件
* head命令: 查看文件前10行
* tail命令：查看文件后10行
* 上述两个命令都可以加入-n 后接行数m来直接查看m行
5. 关于 tail 命令，不得不提的还有它一个很牛的参数 -f，这个参数可以实现不停地读取某个文件的内容并显示x

#### 1.4.6 查看文件类型
使用 file 命令查看文件的类型
```
file /bin/ls
```

### 1.4.7 编辑文件
在 Linux 下面编辑文件通常我们会直接使用专门的命令行编辑器比如（emacs，vim，nano），由于涉及 Linux 上的编辑器的内容比较多，且非常重要，故我们有一门单独的基础课专门介绍这中一个编辑器 vim 
* vimtutor是一个linux自带的vim学习文档

safeu提取码：kkI3

